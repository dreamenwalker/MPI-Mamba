import cv2
import numpy as np
import matplotlib.pyplot as plt

# 读取两张灰度图像
path1 = r'D:\Python_project\venv\pytorch\MPI\image_processing\data\test\gt\mnist_pic_1.png'
path2 = r'D:\Python_project\venv\pytorch\MPI\image_processing\data\test\deconv_2\mnist_pic_1.png'
image1 = cv2.imread(path1, cv2.IMREAD_GRAYSCALE)
image2 = cv2.imread(path2, cv2.IMREAD_GRAYSCALE)

# 确保两张图像具有相同的大小
# image2 = cv2.resize(image2, (image1.shape[1], image1.shape[0]))

# 计算两张图像的差异
difference = cv2.absdiff(image1, image2)

# 显示原始图像和差异图像
plt.subplot(131), plt.imshow(image1, cmap='gray'), plt.title('Image 1')
plt.subplot(132), plt.imshow(image2, cmap='gray'), plt.title('Image 2')
plt.subplot(133), plt.imshow(difference, cmap='gray'), plt.title('Difference')
plt.show()
